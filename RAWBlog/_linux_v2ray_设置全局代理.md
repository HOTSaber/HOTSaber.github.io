### Linux 系统设置全局代理（通用方法）

Linux 全局代理可通过**环境变量**或**网络管理器**配置，推荐前者（适用于大多数应用）。

#### 方法 1：通过环境变量配置（临时生效）

打开终端，执行以下命令（根据代理类型选择）：

```bash
# 配置 socks5 代理（推荐，对应 v2ray 的 10808 端口）
export ALL_PROXY=socks5://127.0.0.1:10808

# 或配置 http 代理（对应 v2ray 的 10809 端口）
export ALL_PROXY=http://127.0.0.1:10809
```

#### 方法 2：永久生效（对所有用户）

编辑 `/etc/profile` 或 `~/.bashrc`（仅当前用户），在文件末尾添加上述环境变量：

```bash
# 用 vim 编辑（以 .bashrc 为例）
vim ~/.bashrc

# 在文件末尾添加（选择一种代理类型）
export ALL_PROXY=socks5://127.0.0.1:10808

# 保存后生效
source ~/.bashrc
```

#### 方法 3：通过图形界面配置（适用于带桌面的 Linux）

- 打开「设置」→「网络」→「网络代理」
- 选择「手动」，填写代理地址（`127.0.0.1`）和端口（`10808` 或 `10809`）
- 应用后所有图形界面应用（如浏览器、软件商店）会自动走代理。

### 四、关键注意事项

1. **代理协议兼容性**
    
    - 部分应用仅支持 http 代理（如 apt、yum），需单独配置：
        
```bash
# 为 apt 配置 http 代理（临时）
sudo apt -o Acquire::http::proxy="http://127.0.0.1:10809/" update
```
1. **避免代理循环**  
    确保 v2ray 自身的出站流量（如连接服务器 `server.hotsaber.cn`）**不经过代理**，你的配置中已通过 `geoip:cn` 和 `geosite:cn` 规则处理，无需额外修改。
    
2. **关闭全局代理的方法**
    
    - Windows/macOS：在代理设置中关闭「使用代理服务器」
    - Linux：执行 `unset ALL_PROXY`（临时），或删除配置文件中的环境变量（永久）。